<!DOCTYPE html>
<html>
<head>
<style type="text/css">
	body {
		text-align: center;
	}
	form {
		display: inline-block;
	}
</style>
</head>
<body>
<script type="text/javascript">
	function checkForm(form) {
		if(form.user.value == "") {
			alert("Error: Username cannot be blank!");
			form.user.focus();
			return false;
		}
		re = /^\w+$/;
		if(!re.test(form.user.value)) {
			alert("Error: Username must contain only letters, numbers and underscores!");
			form.user.focus();
			return false;
		}
		if(form.pwd1.value != "" && form.pwd1.value == form.pwd2.value) {
			if(form.pwd1.value.length < 8) {
				alert("Error: Password must contain at least eight characters!");
				form.pwd1.focus();
				return false;
			}
			if(form.pwd1.value == form.user.value) {
				alert("Error: Password must be different from Username!");
				form.pwd1.focus();
				return false;
			}
			re = /[0-9]/;
			if(!re.test(form.pwd1.value)) {
				alert("Error: password must contain at least one number (0-9)!");
				form.pwd1.focus();
				return false;
			}
			re = /[a-z]/;
			if(!re.test(form.pwd1.value)) {
				alert("Error: password must contain at least one lowercase letter (a-z)!");
				form.pwd1.focus();
				return false;
			}
			re = /[A-Z]/;
			if(!re.test(form.pwd1.value)) {
				alert("Error: password must contain at least one uppercase letter (A-Z)!");
				form.pwd1.focus();
				return false;
			}
		} else {
			alert("Error: Please check that you've entered and confirmed your password!");
			form.pwd1.focus();
			return false;
		}
		return true;
	};
</script>

<h1>User Login</h1>

<form name="createForm" onsubmit="return checkForm(this);" action="http://localhost:8000" method="POST">
	<input type="hidden" id="formId" name="formId" value="create">
	<label for="user">Username:</label><br>
	<input id="user" type="text" name="user" required><br><br><br>

	<label for="secret">Secret message:</label><br>
	<textarea name="secret" id="secret" rows="6" required></textarea><br>
	
	<p>Note: Enter a secret message that only the user can access</p><br>

	<label for="pwd1">Password:</label><br>
	<input name="pwd1" id="pwd1" type="password" required><br>

	<label for="pwd2">Confirm Password:</label><br>
	<input name="pwd2" id="pwd2" type="password" required><br>

	<p>Note: Passwords must contain at least 8 characters
	<br>       with at least one number [0-9] and one upper
	<br>case character [A-Z]</p><br>

	<input id="create" type="submit" value="Create User">
	<button id="clear" type="button">Clear</button>
	<button id="cancel" type="button">Cancel</button>

	<input type="hidden" id="sessionId" name="sessionId" value="12345">

</form>


<script>
	document.getElementById("clear").onclick = function () {
		document.getElementById("user").value = "";
		document.getElementById("pwd1").value = "";
		document.getElementById("pwd2").value = "";
	};
	
	document.getElementById("cancel").onclick = function () {
		location.href = "index.html";
	};
</script>


</body>
</html>
